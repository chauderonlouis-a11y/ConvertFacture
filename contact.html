<!doctype html>
<html lang="fr">
<head>

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-G-V4JG3WWYP5"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());
        gtag('config', 'G-G-V4JG3WWYP5');
    </script>

    <link rel="icon" href="/favicon.svg" type="image/svg+xml">
    <link rel="icon" href="/favicon.ico" sizes="any">
    <link rel="apple-touch-icon" href="/apple-touch-icon.png">
    <meta name="theme-color" content="#111827">

    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>ConvertFacture â€” Contact</title>
    <meta name="description" content="Contactez ConvertFacture : une question, une demande de dÃ©mo, un retour sur la bÃªta." />
    <link rel="stylesheet" href="styles.css" />
</head>

<body>
    <!-- Top bar -->
    <header class="topbar">
        <div class="container topbar__inner">
            <a class="brand" href="index.html" aria-label="ConvertFacture">
                <span class="brand__mark">C</span>
                <span class="brand__name">ConvertFacture</span>
            </a>

            <nav class="nav nav--pill">
                <a class="nav__link" href="index.html#tools">Outils</a>
                <a class="nav__link" href="pricing.html">Tarifs</a>
                <a class="nav__link nav__link--active" href="contact.html">Contact</a>
            </nav>

            <div class="actions">
                <a class="btn btn--primary btn--cta" href="index.html#beta">Nous contacter</a>
            </div>
        </div>
    </header>

    <main>
        <!-- Hero -->
        <section class="hero hero--tight">
            <div class="container hero__inner">
                <h1>Nous contacter</h1>
                <p>
                    Une question, une demande de dÃ©mo, ou un retour sur la bÃªta ?
                    Ã‰cris-nous ici : on rÃ©pond rapidement.
                </p>
            </div>
        </section>

        <!-- Contact content -->
        <section class="contact">
            <div class="container contact__grid">

                <!-- Form card -->
                <div class="contact-card">
                    <h2>Envoyer un message</h2>
                    <p class="muted">Formulaire simple (tu pourras mettre Tally plus tard si tu veux).</p>

                    <!-- âœ… Formspree -->
                    <form class="contact-form"
                          id="contactForm"
                          action="https://formspree.io/f/xjkndglk"
                          method="POST">
                        <!-- context -->
                        <input type="hidden" name="tool" value="contact" />
                        <input type="hidden" name="page" value="contact" />
                        <input type="hidden" name="_subject" value="ConvertFacture â€” Nouveau message (Contact)" />

                        <!-- honeypot anti-spam -->
                        <input type="text" name="_gotcha" style="display:none" tabindex="-1" autocomplete="off" aria-hidden="true" />

                        <div id="contactStep">
                            <div class="field">
                                <label for="name">Nom</label>
                                <input id="name" name="name" class="input" type="text" placeholder="Ton nom" required />
                            </div>

                            <div class="field">
                                <label for="email">Email</label>
                                <input id="email" name="email" class="input" type="email" placeholder="ton@email.com" required />
                            </div>

                            <div class="field">
                                <label for="topic">Sujet</label>
                                <select id="topic" name="topic" class="input" required>
                                    <option value="" disabled selected>Choisirâ€¦</option>
                                    <option>Question gÃ©nÃ©rale</option>
                                    <option>Tarifs</option>
                                    <option>BÃªta / accÃ¨s</option>
                                    <option>Bug / problÃ¨me</option>
                                    <option>Partenariat</option>
                                </select>
                            </div>

                            <div class="field">
                                <label for="message">Message</label>
                                <textarea id="message" name="message" class="input textarea" rows="6"
                                          placeholder="Explique en 2 phrases ce dont tu as besoinâ€¦" required></textarea>
                            </div>

                            <button class="btn btn--primary btn--cta" type="submit" id="contactSubmitBtn">Envoyer â†’</button>

                            <p class="fineprint">
                                En envoyant ce message, tu acceptes dâ€™Ãªtre recontactÃ© au sujet de ConvertFacture.
                            </p>

                            <p class="fineprint" id="contactError" style="display:none; color: rgba(239,68,68,0.95);">
                                Oups â€” impossible dâ€™envoyer pour lâ€™instant. RÃ©essaie dans quelques secondes.
                            </p>
                        </div>

                        <div id="contactThanks" style="display:none;">
                            <h3 style="margin:6px 0 0;">Merci ðŸ™Œ</h3>
                            <p class="muted" style="margin-top:8px;">
                                Message bien reÃ§u. On te rÃ©pondra dÃ¨s que possible.
                            </p>
                            <button class="btn btn--primary btn--cta" type="button" id="contactResetBtn">Envoyer un autre message</button>
                        </div>
                    </form>
                </div>

                <!-- Info card -->
                <div class="contact-card contact-card--info">
                    <h2>Infos rapides</h2>
                    <div class="info-list">
                        <div class="info-item">
                            <div class="info-icon" aria-hidden="true">
                                <svg viewBox="0 0 24 24" fill="none">
                                    <path d="M4 4h16v16H4V4Z" stroke="currentColor" stroke-width="1.7" />
                                    <path d="m4 7 8 6 8-6" stroke="currentColor" stroke-width="1.7" stroke-linecap="round" stroke-linejoin="round" />
                                </svg>
                            </div>
                            <div>
                                <div class="info-title">Email</div>
                                <div class="info-text"><a class="link" href="mailto:contact@convertfacture.fr">contact@convertfacture.fr</a></div>
                            </div>
                        </div>

                        <div class="info-item">
                            <div class="info-icon info-icon--blue" aria-hidden="true">
                                <svg viewBox="0 0 24 24" fill="none">
                                    <path d="M12 22a8 8 0 1 0 0-16 8 8 0 0 0 0 16Z" stroke="currentColor" stroke-width="1.7" />
                                    <path d="M12 8v5l3 2" stroke="currentColor" stroke-width="1.7" stroke-linecap="round" stroke-linejoin="round" />
                                    <path d="M8 3h8" stroke="currentColor" stroke-width="1.7" stroke-linecap="round" />
                                </svg>
                            </div>
                            <div>
                                <div class="info-title">DÃ©lai</div>
                                <div class="info-text">RÃ©ponse sous 24â€“48h</div>
                            </div>
                        </div>

                        <div class="info-item">
                            <div class="info-icon info-icon--green" aria-hidden="true">
                                <svg viewBox="0 0 24 24" fill="none">
                                    <path d="M20 6 9 17l-5-5" stroke="currentColor" stroke-width="1.9" stroke-linecap="round" stroke-linejoin="round" />
                                </svg>
                            </div>
                            <div>
                                <div class="info-title">BÃªta</div>
                                <div class="info-text">Tu peux aussi <a class="link" href="index.html#beta">rejoindre la bÃªta</a> directement.</div>
                            </div>
                        </div>
                    </div>

                    <div class="note" style="margin-top:14px;">
                        <strong>Tip :</strong> indique ton volume de factures/mois + ton outil actuel (Excel, PDF, logicielâ€¦).
                    </div>
                </div>

            </div>
        </section>
    </main>

    <footer class="footer">
        <div class="container footer__inner">
            <span>Â© <span id="year"></span> ConvertFacture</span>
            <span class="footer__sep">Â·</span>
            <a class="link" href="#">ConfidentialitÃ©</a>
            <span class="footer__sep">Â·</span>
            <a class="link" href="pricing.html">Tarifs</a>
        </div>

        <script>
            // Footer year
            const yearEl = document.getElementById("year");
            if (yearEl) yearEl.textContent = new Date().getFullYear();

            // Contact form AJAX -> Formspree
            const form = document.getElementById("contactForm");
            const contactStep = document.getElementById("contactStep");
            const contactThanks = document.getElementById("contactThanks");
            const contactSubmitBtn = document.getElementById("contactSubmitBtn");
            const contactError = document.getElementById("contactError");
            const contactResetBtn = document.getElementById("contactResetBtn");

            function resetUI() {
                if (contactError) contactError.style.display = "none";
                if (contactThanks) contactThanks.style.display = "none";
                if (contactStep) contactStep.style.display = "";
                if (contactSubmitBtn) {
                    contactSubmitBtn.disabled = false;
                    contactSubmitBtn.textContent = "Envoyer â†’";
                }
            }

            if (contactResetBtn) {
                contactResetBtn.addEventListener("click", () => {
                    if (form) form.reset();
                    resetUI();
                });
            }

            if (form) {
                form.addEventListener("submit", async (e) => {
                    e.preventDefault();
                    if (contactError) contactError.style.display = "none";

                    if (contactSubmitBtn) {
                        contactSubmitBtn.disabled = true;
                        contactSubmitBtn.textContent = "Envoiâ€¦";
                    }

                    try {
                        const res = await fetch(form.action, {
                            method: "POST",
                            body: new FormData(form),
                            headers: { "Accept": "application/json" }
                        });

                        if (res.ok) {
                            if (contactStep) contactStep.style.display = "none";
                            if (contactThanks) contactThanks.style.display = "";
                            form.reset();
                        } else {
                            if (contactError) contactError.style.display = "";
                            if (contactSubmitBtn) {
                                contactSubmitBtn.disabled = false;
                                contactSubmitBtn.textContent = "Envoyer â†’";
                            }
                        }
                    } catch (err) {
                        if (contactError) contactError.style.display = "";
                        if (contactSubmitBtn) {
                            contactSubmitBtn.disabled = false;
                            contactSubmitBtn.textContent = "Envoyer â†’";
                        }
                    }
                });
            }
        </script>
    </footer>
</body>
</html>
